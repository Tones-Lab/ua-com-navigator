
# UPS Integration
#Enterprise ID: .1.3.6.1.2.1.33.2

our ( $Event, $specific, $node, @value );
my ( $Description );

$Event->{Class} = 85200;
$Event->{AlarmGroup} = $value[2];
$Event->{Node} = $node;
$Event->{SubAlarmGroup} = $value[1];
$Event->{Agent} = "UPS";

( $Event->{Severity}, undef, $Description ) = lookup( $value[2], 'digicel-UPS-ALARM' );
$Event->{Summary} = $Description;

if ( $specific == 3 ) {
    $Event->{AlarmType} = 2;
} elsif ( $specific == 4 ) {
    $Event->{AlarmType} = 1;
    $Event->{Severity} = 0;
}

# Setting field for deduplication

$Event->{AlarmKey} = $Event->{SubMethod} . " " . $Event->{Node} . " " . $Event->{AlarmGroup} . " " . $Event->{SubAlarmGroup} . " -> " . $Event->{AlarmType};

